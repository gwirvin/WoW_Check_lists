CREATE DATABASE /*!32312 IF NOT EXISTS*/ `links` /*!40100 DEFAULT CHARACTER SET latin1 */;

USE `links`;

--
-- Table structure for table `categories`
--

DROP TABLE IF EXISTS `categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `categories` (
  `cat_id` int(11) NOT NULL AUTO_INCREMENT,
  `cat_name` varchar(75) NOT NULL,
  `cat_owner` int(10) NOT NULL,
  PRIMARY KEY (`cat_id`),
  KEY `cat_owner` (`cat_owner`),
  CONSTRAINT `cat_owner_fk` FOREIGN KEY (`cat_owner`) REFERENCES `users`.`users` (`user_id`)
  ON DELETE CASCADE
  ON UPDATE CASCADE,
  UNIQUE KEY `cat_name` (`cat_name`,`cat_owner`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

DROP TABLE IF EXISTS `links`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `links` (
  `link_id` int(11) NOT NULL AUTO_INCREMENT,
  `link_owner` int(10) NOT NULL,
  `link_name` varchar(100) NOT NULL,
  `link_type` enum('external','internal') DEFAULT NULL,
  `link_cat` varchar(75) DEFAULT NULL,
  `link_url` varchar(150) DEFAULT NULL,
  `link_ts` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`link_id`),
  KEY `link_cat` (`link_cat`),
  CONSTRAINT `link_cat_fk` FOREIGN KEY (`link_cat`) REFERENCES `categories` (`cat_name`)
  ON DELETE CASCADE
  ON UPDATE CASCADE,
  KEY `link_owner` (`link_owner`),
  CONSTRAINT `link_owner_fk` FOREIGN KEY (`link_owner`) REFERENCES `users`.`users` (`user_id`)
  ON DELETE CASCADE
  ON UPDATE CASCADE,
  UNIQUE KEY `link_name` (`link_name`,`link_owner`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

GRANT ALL PRIVILEGES ON links.* to 'web_app'@'%';
LOCK TABLES `categories` WRITE;
/*!40000 ALTER TABLE `categories` DISABLE KEYS */;
INSERT INTO `categories` VALUES (3,'Entertainment',1),(1,'Food',1),(7,'Home',1),(2,'Navigation',1),(6,'Social Media',1),(4,'Web Development',1),(5,'Wow Stuff',1);
/*!40000 ALTER TABLE `categories` ENABLE KEYS */;
UNLOCK TABLES;
--
LOCK TABLES `links` WRITE;
/*!40000 ALTER TABLE `links` DISABLE KEYS */;
INSERT INTO `links` VALUES (1,1,'Chipotle','external','Food','https://order.chipotle.com','2018-05-18 20:37:44'),(2,1,'G-Mail','external','Navigation','https://mail.google.com/','2018-05-21 15:05:17'),(3,1,'IMdb','external','Entertainment','https://www.imdb.com/','2018-05-25 03:18:01'),(4,1,'Chik-fil-a','external','Food','https://www.chick-fil-a.com/','2018-05-22 18:59:53'),(5,1,'HTML Color Codes','external','Web Development','https://htmlcolorcodes.com/','2018-05-23 18:39:24'),(6,1,'Web Safe Fonts','external','Web Development','https://websitesetup.org/web-safe-fonts-html-css/','2018-05-23 18:40:11'),(7,1,'W3 Schools','external','Web Development','https://www.w3schools.com/default.asp','2018-05-23 18:42:20'),(8,1,'PHP Documentation','external','Web Development','http://php.net/docs.php','2018-05-23 18:41:40'),(9,1,'Five Guys','external','Food','https://order.fiveguys.com','2018-05-23 19:50:14'),(10,1,'Using Git','external','Web Development','http://rogerdudler.github.io/git-guide/','2018-05-23 22:59:41'),(11,1,'Stack Overflow','external','Web Development','https://stackoverflow.com/','2018-05-24 20:32:15'),(12,1,'Fandango','external','Entertainment','https://www.fandango.com/','2018-05-25 03:18:01'),(13,1,'AMC Theaters','external','Entertainment','https://www.amctheatres.com/','2018-05-25 03:18:01'),(14,1,'WoW Head','external','Wow Stuff','http://www.wowhead.com/','2018-05-25 02:55:24'),(15,1,'Realm Status','external','Wow Stuff','http://us.battle.net/wow/en/status','2018-05-25 02:56:05'),(16,1,'WoW Professions','external','Wow Stuff','http://www.wow-professions.com/profession-leveling-guides','2018-05-25 02:57:04'),(17,1,'Xu-FU Petbattles','external','Wow Stuff','https://www.wow-petguide.com/?m=Home','2018-05-25 02:58:25'),(18,1,'Icy Veins','external','Wow Stuff','https://www.icy-veins.com/wow/','2018-05-25 03:00:45'),(19,1,'Comixology','external','Entertainment','https://www.comixology.com/','2018-05-25 03:18:58'),(20,1,'Raidbots','external','Wow Stuff','https://www.raidbots.com/','2018-05-25 03:19:37'),(21,1,'Warcraft Pets','external','Wow Stuff','https://www.warcraftpets.com/','2018-05-25 03:20:03'),(22,1,'Hulu','external','Entertainment','https://www.hulu.com/','2018-05-25 03:20:28'),(23,1,'Spirograph','external','Entertainment','https://nathanfriend.io/inspirograph/','2018-05-25 03:21:07'),(24,1,'Twitter','external','Social Media','https://twitter.com/','2018-05-25 12:02:35'),(25,1,'Instagram','external','Social Media','https://www.instagram.com/','2018-05-25 12:03:55'),(26,1,'Tumblr','external','Social Media','https://www.tumblr.com/','2018-05-25 12:04:40'),(27,1,'Facebook','external','Social Media','https://www.facebook.com/','2018-05-25 12:07:01'),(28,1,'Netflix','external','Entertainment','https://www.netflix.com/','2018-05-25 17:23:54'),(29,1,'AMC - TV','external','Entertainment','https://www.amc.com/','2018-05-25 17:24:44'),(30,1,'HBOGo','external','Entertainment','https://play.hbogo.com/','2018-05-25 17:25:03'),(31,1,'ABCGo','external','Entertainment','http://abc.go.com/shows','2018-05-26 15:31:28'),(32,1,'Amazon Video Library','external','Entertainment','https://www.amazon.com/gp/video/library/','2018-05-26 15:37:30'),(33,1,'Audible','external','Entertainment','https://www.audible.com/','2018-05-26 15:46:13'),(34,1,'Noxxic','external','Wow Stuff','http://www.noxxic.com/wow/','2018-05-26 17:02:28'),(35,1,'TiVo','external','Entertainment','http://online.tivo.com/start/myshows','2018-05-26 17:03:10'),(36,1,'Nest','external','Home','https://home.nest.com/','2018-05-27 15:11:13');
/*!40000 ALTER TABLE `links` ENABLE KEYS */;
UNLOCK TABLES;
